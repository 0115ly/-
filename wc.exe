#include<stdio.h>
#include<string.h>
#include<stdlib.h>
int main(){
	void wcexe(char *filename); //声明 
	printf("testfilename:");
    char filename[100];
    scanf("%s",filename);
    getchar(); //消化最后输入的回车符 
    wcexe(filename);
    return 0;
}



void wcexe(char *filename){
    FILE *f;
    char str[1000];
    char c;
    int string;
    int LastBlank = 0; // 上个字符是否是空格(1表示是  0表示不是)
    int charCount=0;
    int wordCount=0;
    int lineCount=0;
    int i;
 
    if((f=fopen(filename,"rb"))==NULL){
        printf("can not open file\n");
        exit(0);
    }
    while(fgets(str,1000,f)!=NULL){
        string=strlen(str);
        for(i=0;i<string;i++){
            c=str[i];
            if(c==' ' || c=='\t'){
                if(LastBlank==0){
                    wordCount++;
                }
                LastBlank=1;
            }else if(c!='\n'&&c!='\r'){
                charCount++;
                LastBlank=0;
            }
 
        }
        if(LastBlank==0)
            wordCount++;
        LastBlank=1;
        lineCount++;
    }
    fclose(f);
    printf("行数：%d\n",lineCount);
    printf("字符数：%d\n",charCount);
    printf("词数：%d\n",wordCount);
 
     
}
